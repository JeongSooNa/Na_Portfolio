<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Project Statistics</title>
    <link rel="stylesheet" href="index.css">
</head>

<!-- HTML body -->
<body>
    <div class="container">
        <div class="header"></div>
        <div class="row main">
            <input type="text" id="n" placeholder="모집단을 입력하시오.">
            <input type="text" id="z" placeholder="신뢰구간을 입력하시오.">
            <input type="text" id="e" placeholder="유의확률을 입력하시오.">
            <button type="button" onclick="calculatorSampleSize()">결과값 확인</button>
        </div>
        <div class="result">
            <input id="result" type="text" value="0" />
        </div>
        <div class="footer"></div>
    </div>
</body>

<!-- JQuery -->
<script
    src="https://code.jquery.com/jquery-3.6.0.min.js"
    integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4="
    crossorigin="anonymous"
></script>

<!-- script for function -->
<script>
    function calculatorSampleSize(){
        var n = document.getElementById("n").value;
        var z = document.getElementById("z").value;
        var e = document.getElementById("e").value;
        var p = 0.5;
        if(n==''){
            alert("모집단 수를 입력하시오.");
            document.getElementById("n").focus();
            return false;
        }
        if(z==''){
            alert("유의확률을 입력하시오.");
            document.getElementById("z").focus();
            return false;
        }
        if(p==''){
            alert("표본오차를 입력하시오.");
            document.getElementById("p").focus();
            return false;
        }
        console.log(n+"/"+z+"/"+e+"/"+p)
        var sampleSizeH = 0;
        sampleSizeH = z*z*p*(1-p)
        sampleSizeH = sampleSizeH/e
        sampleSizeH = sampleSizeH/e
        console.log(sampleSizeH)
        var sampleSizeL = 0;
        sampleSizeL = z*z*p*(1-p)
        sampleSizeL = sampleSizeL/e
        sampleSizeL = sampleSizeL/e
        sampleSizeL = sampleSizeL/n
        sampleSizeL = sampleSizeL+1
        var sampleSize = sampleSizeH / sampleSizeL;
        // ((z*z*p*(1-p))/e*e) / (1+((z*z*p*(1-p))/(e*e*n)));
        // Issue : javascript에서는 왜 연산에서 오류가 나는지 찾을 것!
        document.getElementById("result").value = sampleSize;
    }

</script>
</html>